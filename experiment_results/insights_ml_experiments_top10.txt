# === ML Experiments - Reporte Profesional ===

## Resumen de los 10 mejores experimentos (por retorno compuesto)

- Todos los experimentos usan Random Forest, grid de thresholds, ventanas y balanceo automático.
- Features usados: 169 (contextuales, técnicos, patrones, estructura de mercado, lags, etc).

| Dataset | Balanceo | Métrica | Score | Threshold | Retorno Total | Winrate | Trades |
|---------|----------|---------|-------|-----------|---------------|---------|--------|
| btcusdt_ml_dataset_win10_thr70.csv | smote | f1 | 0.28 | 0.4 | 6.28% | 57.58% | 165 |
| btcusdt_ml_dataset_win5_thr150.csv | undersample | f1 | 0.01 | 0.5 | 5.40% | 53.33% | 315 |
| btcusdt_ml_dataset_win10_thr100.csv | combined | f1 | 0.25 | 0.3 | 4.57% | 57.14% | 119 |
| btcusdt_ml_dataset_win10_thr100.csv | combined | recall | 0.67 | 0.3 | 4.57% | 57.14% | 119 |
| btcusdt_ml_dataset_win10_thr50.csv | combined | recall | 0.81 | 0.3 | 4.03% | 51.39% | 323 |
| btcusdt_ml_dataset_win10_thr100.csv | smote | f1 | 0.16 | 0.3 | 3.51% | 57.05% | 149 |
| btcusdt_ml_dataset_win10_thr100.csv | smote | recall | 0.52 | 0.3 | 3.51% | 57.05% | 149 |
| btcusdt_ml_dataset_win5_thr70.csv | combined | recall | 0.50 | 0.3 | 3.46% | 53.68% | 190 |
| btcusdt_ml_dataset_win20_thr70.csv | combined | f1 | 0.39 | 0.4 | 3.43% | 53.06% | 147 |
| btcusdt_ml_dataset_win20_thr100.csv | undersample | f1 | 0.39 | 0.5 | 3.10% | 53.01% | 83 |

## Insights automáticos

- Mejor experimento: btcusdt_ml_dataset_win10_thr70.csv | Retorno: 6.28% | Winrate: 57.58% | Trades: 165
- Targets y ventanas moderados (ej: win10_thr70, win10_thr100, win20_thr70) logran el mejor compromiso entre retorno, winrate y número de trades.
- Balanceo SMOTE y combined son los más efectivos en los mejores experimentos; undersample solo destaca en targets muy difíciles.
- Thresholds bajos (0.3-0.4) maximizan el edge, permitiendo mayor recall y winrate, pero pueden aumentar falsos positivos.
- Winrate consistente (53-57%) en los mejores experimentos, con retornos compuestos de 3-6% en el periodo simulado.
- El número de trades es suficiente para robustez estadística (80-300 trades por experimento top).

## Recomendaciones profesionales

1. Usar targets moderados (ej: +0.7% en 10 barras, +1% en 10 barras) para maximizar el edge y la robustez del modelo.
2. Priorizar balanceo SMOTE o combinado en el pipeline de producción.
3. Ajustar el threshold de probabilidad en el rango 0.3-0.4 para maximizar winrate y retorno, revisando el trade-off con la cantidad de señales.
4. Iterar sobre feature selection: aunque 169 features funcionan bien, probar reducir a los top 30-50 para mayor interpretabilidad y evitar overfitting.
5. Analizar los falsos positivos/negativos de los mejores experimentos para identificar patrones y posibles mejoras en features o lógica de target.
6. Reentrenar y validar periódicamente: el edge puede variar con el mercado, por lo que se recomienda backtesting rolling y validación temporal.
7. Documentar y versionar cada experimento para trazabilidad y mejora continua.

---

**Siguiente paso sugerido:**
- Implementar feature selection automática y análisis de errores en los experimentos top.
- Integrar el mejor modelo y configuración en el backtester para validación en forward y simulación realista.

_Reporte generado automáticamente por el pipeline ML Backtrader._
